# タイトル画面音量バー追加 計画

更新日: 2026-01-12

## プロンプト
タイトル画面に音量バーを追加したいです。
- 音量は10段階＋MUTE（無音）に変更可能。
- 以下の3系統で変更可能。public/audio配下のディレクトリ名と同じ。
  - VOICE
  - BGM
  - SE
実装計画を立てて下さい
- タイトル画面UIの左下で。操作はボタン式。
- 「1〜10＋MUTE」で
- 反映タイミングは即時で。
- 保存は、将来的にはWebStorageに保存したいですが、今は保存しないでよいです
- 初期値は5（現在の音量を10として、50%の音量）にしてください
また、将来的に、ポーズ画面でも音量操作できるようにしたいので、タイトル画面以外にも切り出して表示できるように実装しておいてください

## ステップ
- [x] タイトル画面UIと音量制御の現状を把握し、public/audio配下の構成と音量適用箇所を整理する
- [x] 1〜10＋MUTEの音量モデルと初期値5の扱いを決め、タイトル/ポーズで再利用できるUI/ロジックの分離方針を固める
- [x] タイトル画面左下にボタン式UIを実装し、VOICE/BGM/SEの即時反映を接続する
- [x] 画面共通で呼び出せるように構成を調整し、ポーズ画面での組み込み手順を明記する
- [ ] タイトル画面で表示・操作・即時反映・初期値が満たせることを確認する

## 結果
- タイトル画面左下にボタン式の音量パネルを追加し、VOICE/BGM/SEを1〜10+MUTEで操作可能にした
- AudioManagerのカテゴリ音量を基準値から段階的にスケールし、初期値5(50%)を即時反映するよう接続した
- `src/ui/volumePanel.ts` を親要素指定で再利用できる構成にし、ポーズ画面では親要素と配置クラスを差し替えて表示できるようにした
- タイトル画面のクリック処理が音量操作を妨げないよう、UIクリックを除外する判定を追加した
- 動作確認は未実施
